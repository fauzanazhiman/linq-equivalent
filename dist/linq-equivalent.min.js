function DefaultEqualityComparer(t,r){return t===r||t.valueOf()===r.valueOf()}function DefaultSortComparer(t,r){return t===r?0:null==t?-1:null==r?1:"string"==typeof t?t.toString().localeCompare(r.toString()):t.valueOf()-r.valueOf()}function DefaultPredicate(){return!0}function DefaultSelector(t){return t}Array.prototype.Select=function(t){return this.map(t)},Array.prototype.Where=function(t){return this.filter(t)},Array.prototype.All=function(t){return this.every(t)},Array.prototype.Any=function(t){return this.some(t)},Array.prototype.Aggregate=function(t){return this.reduce(t)},Array.prototype.OrderBy=function(t,r){r=r||DefaultSortComparer;var e=this.slice(0),n=function(e,n){return r(t(e),t(n))};return e.ThenBy=function(t,r){return r=r||DefaultSortComparer,e.OrderBy(DefaultSelector,function(e,o){var i=n(e,o);return 0===i?r(t(e),t(o)):i})},e.ThenByDescending=function(t,r){return r=r||DefaultSortComparer,e.OrderBy(DefaultSelector,function(e,o){var i=n(e,o);return 0===i?-r(t(e),t(o)):i})},e.sort(n)},Array.prototype.OrderByDescending=function(t,r){return r=r||DefaultSortComparer,this.OrderBy(t,function(t,e){return-r(t,e)})},Array.prototype.Take=function(t){return this.slice(0,t)},Array.prototype.Skip=function(t){return this.slice(t)},Array.prototype.Count=function(){return this.length},Array.prototype.Min=function(t){t=t||DefaultSelector;for(var r=this.length,e=t(this[0]);r-- >0;)t(this[r])<e&&(e=t(this[r]));return e},Array.prototype.Max=function(t){t=t||DefaultSelector;for(var r=this.length,e=t(this[0]);r-- >0;)t(this[r])>e&&(e=t(this[r]));return e},Array.prototype.FirstOrDefault=function(t,r){var e=this.length;if(!t)return e?this[0]:null==r?null:r;for(var n=0;n<e;n++)if(t(this[n],n,this))return this[n];return null==r?null:r},Array.prototype.LastOrDefault=function(t,r){var e=this.length;if(!t)return e?this[e-1]:null==r?null:r;for(;e-- >0;)if(t(this[e],e,this))return this[e];return null==r?null:r},Array.prototype.Contains=function(t,r){r=r||DefaultEqualityComparer;for(var e=this.length;e-- >0;)if(!0===r(this[e],t))return!0;return!1},Array.prototype.Distinct=function(t){var r=[];t=t||DefaultEqualityComparer;for(var e=this.length,n=0;n<e;n++)r.Contains(this[n],t)||r.push(this[n]);return r},Array.prototype.Union=function(t){return this.concat(t).Distinct()},Array.prototype.Intersect=function(t,r){return r=r||DefaultEqualityComparer,this.Distinct(r).Where(function(e){return t.Contains(e,r)})},Array.prototype.Except=function(t,r){t instanceof Array||(t=[t]),r=r||DefaultEqualityComparer;for(var e=this.length,n=[],o=0;o<e;o++){for(var i=t.length,u=!1;i-- >0;)if(!0===r(this[o],t[i])){u=!0;break}u||n.push(this[o])}return n},Array.prototype.Zip=function(t,r){return this.Take(Math.min(this.length,t.length)).Select(function(e,n){return r(e,t[n])})},Array.prototype.IndexOf=Array.prototype.indexOf||function(t,r){for(var e=this.length,n=Math.max(Math.min(r,e),0)||0;n<e;n++)if(this[n]===t)return n;return-1},Array.prototype.LastIndexOf=Array.prototype.lastIndexOf||function(t,r){for(var e=Math.max(Math.min(r||this.length,this.length),0);e-- >0;)if(this[e]===t)return e;return-1},Array.prototype.Remove=function(t){var r=this.IndexOf(t);-1!=r&&this.splice(r,1)},Array.prototype.RemoveAll=function(t){for(var r,e=0;r=this.FirstOrDefault(t);)e++,this.Remove(r);return e},exports=!0;